"use strict";(self.webpackChunkkoxy_docs=self.webpackChunkkoxy_docs||[]).push([[8125],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=o.createContext({}),p=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return o.createElement(l.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=p(n),m=r,h=u["".concat(l,".").concat(m)]||u[m]||c[m]||a;return n?o.createElement(h,i(i({ref:t},d),{},{components:n})):o.createElement(h,i({ref:t},d))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:r,i[1]=s;for(var p=2;p<a;p++)i[p]=n[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8166:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>a,metadata:()=>s,toc:()=>p});var o=n(7462),r=(n(7294),n(3905));const a={sidebar_position:7,description:"Build mapping loops",slug:"/nodes/loops"},i="Loops",s={unversionedId:"nodes/Advanced/Loops",id:"nodes/Advanced/Loops",title:"Loops",description:"Build mapping loops",source:"@site/docs/nodes/Advanced/Loops.md",sourceDirName:"nodes/Advanced",slug:"/nodes/loops",permalink:"/koxy-docs/nodes/loops",draft:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7,description:"Build mapping loops",slug:"/nodes/loops"},sidebar:"tutorialSidebar",previous:{title:"Functions",permalink:"/koxy-docs/nodes/functions"},next:{title:"Koxy Database",permalink:"/koxy-docs/koxy-database"}},l={},p=[{value:"Intro",id:"intro",level:2},{value:"How this node works",id:"how-this-node-works",level:2},{value:"How to use this node response",id:"how-to-use-this-node-response",level:2},{value:"Node properties",id:"node-properties",level:2},{value:"How to get the current item value",id:"how-to-get-the-current-item-value",level:2},{value:"Example",id:"example",level:2},{value:"Dynamic variables support",id:"dynamic-variables-support",level:2},{value:"Known issues",id:"known-issues",level:2}],d={toc:p},u="wrapper";function c(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,o.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"loops"},"Loops"),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"intro"},"Intro"),(0,r.kt)("p",null,"The loops node allows you to map over an ",(0,r.kt)("inlineCode",{parentName:"p"},"object")," of items and run a specific trigger for every item of them."),(0,r.kt)("p",null,"Please note that this node is still under development."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"how-this-node-works"},"How this node works"),(0,r.kt)("p",null,"this node will get an ",(0,r.kt)("inlineCode",{parentName:"p"},"object")," of items and map over them, while mapping it will save each item's value as a ",(0,r.kt)("inlineCode",{parentName:"p"},"parameter")," and pass it to the trigger given to it."),(0,r.kt)("p",null,"This node is a little bit different compared to other nodes and it's functionality may change forward over time."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"how-to-use-this-node-response"},"How to use this node response"),(0,r.kt)("p",null,"This node is not yet capable of saving responses so It's not accessible using the ",(0,r.kt)("inlineCode",{parentName:"p"},"koxy.res.{NODE_NAME}")," syntax."),(0,r.kt)("p",null,"The nodes that the loop triggers will save their response as ",(0,r.kt)("inlineCode",{parentName:"p"},"NODE_NAME.LOOP_ITEM_VALUE"),", example: if we have a loop called ",(0,r.kt)("inlineCode",{parentName:"p"},"loop1"),' and it triggers an AI node one time with an item called "prompt1", the AI node\'s response will be saved as ',(0,r.kt)("inlineCode",{parentName:"p"},"model1.prompt1")," and it can be accessed using the ",(0,r.kt)("inlineCode",{parentName:"p"},"koxy.res.{model1.prompt1}")," syntax."),(0,r.kt)("p",null,"We are facing an issue with this. ",(0,r.kt)("a",{parentName:"p",href:"#known-issues"},"See known issues")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"node-properties"},"Node properties"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"name:"),"\xa0node names should be unique and can't be changed.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Trigger:")," This will be called for each item as described above (using flows as loops ",(0,r.kt)("inlineCode",{parentName:"p"},"triggers")," is not recommended).")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Items:")," an object of items you want to loop over.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Next:"),"\xa0the trigger that the node should call after looping over all the items. click on the\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"next input"),"\xa0to get a list of available triggers."))),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"how-to-get-the-current-item-value"},"How to get the current item value"),(0,r.kt)("p",null,"To use this node in the right way You need to understand its functionality. this node will save a dynamic ",(0,r.kt)("inlineCode",{parentName:"p"},"parameter")," each time it maps over an item in the items object, in the triggered node (You entered as your loop's trigger) you can get the current item value using the ",(0,r.kt)("inlineCode",{parentName:"p"},"koxy.get.{LOOP_NAME}")," syntax. (The ",(0,r.kt)("inlineCode",{parentName:"p"},"LOOP_NAME")," is the name you give to your loop node)."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"example"},"Example"),(0,r.kt)("p",null,"Coming soon."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"dynamic-variables-support"},"Dynamic variables support"),(0,r.kt)("p",null,"You can use\xa0",(0,r.kt)("a",{parentName:"p",href:"/getting-started/dynamic-variables"},"Dynamic variables"),"\xa0in the following properties:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Trigger"),".")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Items."))),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"known-issues"},"Known issues"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"In some cases any node the loop will trigger (",(0,r.kt)("inlineCode",{parentName:"p"},"Trigger input"),") won't save any response even if It supports saving responses so its response can't be accessed using the ",(0,r.kt)("inlineCode",{parentName:"p"},"koxy.res.{NODE_NAME.LOOP_ITEM_VALUE}")," syntax.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"In some cases the triggered node will save only the last response."))))}c.isMDXComponent=!0}}]);